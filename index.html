<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-XXXXXXXXXX"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-XXXXXXXXXX');
  </script>

  <meta charset="UTF-8" />
  <title>Whis-AI â€“ The Ultimate Interview Cheat Code</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0" />
  <meta name="description" content="The undetectable AI copilot that solves interview problems in real-time. Get the job, guaranteed.">
    
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=JetBrains+Mono:wght@400;500;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
    
  <script src="https://accounts.google.com/gsi/client" async defer></script>
  <script src="https://checkout.razorpay.com/v1/checkout.js"></script>
  <script src="https://www.paypal.com/sdk/js?client-id=AWt11sXML_MxwSp4shnL-JDfXlqWe_wO7d_VVCvRNT00Ws-dHCTywlD9La4aWpNNJbfz-SGuWggCNgip&currency=USD"></script>
    
  <style>
    :root {
        --accent: #00f2ff;
        --accent-glow: rgba(0, 242, 255, 0.4);
        --bg-deep: #030303;
        --card-bg: rgba(20, 20, 20, 0.6);
        --glass-border: rgba(255, 255, 255, 0.08);
    }

    body { 
        background-color: var(--bg-deep); 
        color: #e2e8f0; 
        font-family: 'Inter', sans-serif; 
        overflow-x: hidden; 
        -webkit-font-smoothing: antialiased;
        padding-bottom: 0px;
    }

    /* --- PREMIUM ANIMATIONS --- */
    @keyframes float-slow {
        0%, 100% { transform: translateY(0); }
        50% { transform: translateY(-15px); }
    }
    @keyframes aurora {
        0% { background-position: 50% 50%, 50% 50%; }
        100% { background-position: 350% 50%, 350% 50%; }
    }
    @keyframes revealUp {
        from { opacity: 0; transform: translateY(30px) scale(0.98); filter: blur(10px); }
        to { opacity: 1; transform: translateY(0) scale(1); filter: blur(0); }
    }
    @keyframes pulse-ring {
        0% { transform: scale(0.8); opacity: 0.5; box-shadow: 0 0 0 0 rgba(0, 242, 255, 0.7); }
        70% { transform: scale(1); opacity: 1; box-shadow: 0 0 0 10px rgba(0, 242, 255, 0); }
        100% { transform: scale(0.8); opacity: 0.5; box-shadow: 0 0 0 0 rgba(0, 242, 255, 0); }
    }

    /* --- UTILITIES --- */
    .text-glow { text-shadow: 0 0 20px var(--accent-glow); }
    .no-scrollbar::-webkit-scrollbar { display: none; }
    .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
    
    /* --- SPOTLIGHT CARD EFFECT --- */
    .spotlight-card {
        background-color: var(--card-bg);
        border: 1px solid var(--glass-border);
        position: relative;
        overflow: hidden;
        border-radius: 1.5rem;
        transition: transform 0.3s ease;
    }
    .spotlight-card::before {
        content: "";
        position: absolute;
        height: 100%; width: 100%; top: 0; left: 0;
        background: radial-gradient(800px circle at var(--mouse-x) var(--mouse-y), rgba(255,255,255,0.06), transparent 40%);
        opacity: 0;
        transition: opacity 0.5s;
        z-index: 1;
        pointer-events: none;
    }
    .spotlight-card:hover::before { opacity: 1; }
    .spotlight-card::after {
        content: "";
        position: absolute;
        height: 100%; width: 100%; top: 0; left: 0;
        background: radial-gradient(600px circle at var(--mouse-x) var(--mouse-y), rgba(0, 242, 255, 0.1), transparent 40%);
        opacity: 0;
        z-index: 1;
        transition: opacity 0.5s;
        pointer-events: none;
    }
    .spotlight-card:hover::after { opacity: 1; }
    
    /* --- SCROLL REVEAL --- */
    .reveal-on-scroll {
        opacity: 0;
        animation-timeline: view();
        animation-range: entry 10% cover 30%;
    }
    .revealed { animation: revealUp 0.8s cubic-bezier(0.2, 0.8, 0.2, 1) forwards; }

    /* --- AURORA BACKGROUND --- */
    .aurora-bg {
        position: fixed; inset: 0; z-index: -1;
        background-image: 
            radial-gradient(at 10% 10%, rgba(0, 242, 255, 0.15) 0px, transparent 50%),
            radial-gradient(at 90% 10%, rgba(120, 119, 198, 0.15) 0px, transparent 50%),
            radial-gradient(at 50% 50%, rgba(0, 0, 0, 1) 0px, transparent 50%),
            radial-gradient(at 90% 90%, rgba(0, 242, 255, 0.1) 0px, transparent 50%);
        filter: blur(60px);
        opacity: 0.6;
    }
    .noise-overlay {
        position: fixed; inset: 0; z-index: -1;
        background: url('https://grainy-gradients.vercel.app/noise.svg');
        opacity: 0.04;
        pointer-events: none;
    }

    /* --- CAROUSEL 3D --- */
    .carousel-container { 
        perspective: 1200px; 
        display: flex; justify-content: center; align-items: center; 
        height: 300px; position: relative; margin: 40px 0;
        transform-style: preserve-3d;
    }
    @media (min-width: 768px) { .carousel-container { height: 600px; margin: 0; } }
    
    .carousel-item { 
        position: absolute; width: 90%; aspect-ratio: 16/9; 
        transition: all 0.8s cubic-bezier(0.16, 1, 0.3, 1); 
        border-radius: 20px; overflow: hidden; background: #000; 
        border: 1px solid rgba(255,255,255,0.1); 
        box-shadow: 0 50px 100px -20px rgba(0, 0, 0, 0.9);
        will-change: transform, opacity;
    }
    @media (min-width: 768px) { .carousel-item { width: 75%; } }
    
    .item-center { 
        z-index: 30; transform: translate3d(0,0,0) scale(1); opacity: 1; 
        border-color: var(--accent); 
        box-shadow: 0 0 80px rgba(0,242,255,0.15); 
    }
    .item-left { 
        z-index: 10; transform: translate3d(-15%, 0, -200px) rotateY(15deg) scale(0.85); 
        opacity: 0.4; filter: blur(2px) grayscale(80%);
    }
    .item-right { 
        z-index: 10; transform: translate3d(15%, 0, -200px) rotateY(-15deg) scale(0.85); 
        opacity: 0.4; filter: blur(2px) grayscale(80%);
    }
    .item-hidden { z-index: 0; opacity: 0; transform: scale(0.5); }

    /* --- CODE EDITOR --- */
    pre { white-space: pre-wrap; margin: 0; font-family: 'JetBrains Mono', monospace; }
    .keyword { color: #ff79c6; font-weight: bold; } 
    .function { color: #8be9fd; } 
    .string { color: #f1fa8c; } 
    .number { color: #bd93f9; }
    .operator { color: #ff79c6; }
    .comment { color: #6272a4; font-style: italic; }

    /* --- MODAL ANIMATIONS --- */
    .modal-enter { animation: modalIn 0.4s cubic-bezier(0.16, 1, 0.3, 1) forwards; }
    @keyframes modalIn {
        from { opacity: 0; transform: scale(0.95) translateY(10px); }
        to { opacity: 1; transform: scale(1) translateY(0); }
    }

    /* --- SHINE BUTTON --- */
    .btn-shine {
        position: relative; overflow: hidden;
    }
    .btn-shine::before {
        content: ''; position: absolute; top: 0; left: -100%; width: 100%; height: 100%;
        background: linear-gradient(120deg, transparent, rgba(255,255,255,0.4), transparent);
        transition: all 0.6s;
    }
    .btn-shine:hover::before { left: 100%; }

    /* --- INTRO --- */
    .intro-overlay {
        position: fixed; inset: 0; z-index: 9999; background: #000;
        display: flex; align-items: center; justify-content: center;
        pointer-events: none; transition: opacity 1s ease-out;
    }
    .intro-text {
        font-size: 3rem; font-weight: 800; letter-spacing: -0.05em;
        background: linear-gradient(180deg, #fff, #444); -webkit-background-clip: text; -webkit-text-fill-color: transparent;
        opacity: 0; transform: scale(0.9); transition: all 1s cubic-bezier(0.16, 1, 0.3, 1);
    }
    .intro-active { opacity: 1; transform: scale(1); }

    .faq-content { max-height: 0; overflow: hidden; transition: max-height 0.4s cubic-bezier(0, 1, 0, 1); }
    .faq-active .faq-content { max-height: 300px; }
    .faq-active i { transform: rotate(180deg); }
  </style>
</head>
<body class="antialiased">

  <div class="aurora-bg"></div>
  <div class="noise-overlay"></div>

  <div id="intro-layer" class="intro-overlay">
      <h1 id="intro-text" class="intro-text text-center leading-tight">
          System Initializing...<br>
          <span class="text-accent text-lg md:text-3xl font-mono tracking-widest mt-4 block opacity-80">WHIS-AI ELITE</span>
      </h1>
  </div>

  <div id="celebrationModal" class="fixed inset-0 z-[1000] hidden items-center justify-center backdrop-blur-2xl bg-black/80 transition-opacity duration-500">
      <div class="absolute inset-0 bg-gradient-to-t from-black via-transparent to-transparent opacity-90"></div>
      <div class="relative z-10 spotlight-card p-10 max-w-xl w-full text-center border border-yellow-500/30 shadow-[0_0_100px_rgba(255,215,0,0.15)] modal-enter flex flex-col items-center">
          <button onclick="closeCelebration()" class="absolute top-6 right-6 text-white/30 hover:text-white transition"><i class="fa-solid fa-xmark text-2xl"></i></button>
          
          <div class="w-24 h-24 mb-6 relative">
             <div class="absolute inset-0 bg-yellow-500 rounded-full blur-xl opacity-40 animate-pulse"></div>
             <div class="relative w-full h-full rounded-full border-2 border-yellow-500/50 flex items-center justify-center bg-black">
                 <span id="countdownTimer" class="text-4xl font-mono font-bold text-yellow-400">10</span>
             </div>
             <svg class="absolute inset-0 w-full h-full -rotate-90 pointer-events-none" viewBox="0 0 100 100">
                 <circle cx="50" cy="50" r="48" stroke="currentColor" stroke-width="2" fill="none" class="text-yellow-500/20" />
                 <circle cx="50" cy="50" r="48" stroke="currentColor" stroke-width="2" fill="none" class="text-yellow-400" stroke-dasharray="301" stroke-dashoffset="0" style="transition: stroke-dashoffset 1s linear" />
             </svg>
          </div>

          <h2 class="text-5xl md:text-7xl font-black text-transparent bg-clip-text bg-gradient-to-b from-white to-yellow-600 mb-2 uppercase italic tracking-tighter">Jackpot!</h2>
          <p class="text-xl text-yellow-100/80 font-medium mb-8 tracking-wide">Premium Access Unlocked</p>
          
          <div class="w-full bg-white/5 border border-white/10 rounded-xl p-6 mb-8 backdrop-blur-md">
              <div class="flex items-start gap-4 text-left">
                  <div class="mt-1"><i class="fa-solid fa-crown text-yellow-400 text-xl"></i></div>
                  <div>
                      <h4 class="text-white font-bold text-lg">3 Elite Sessions (Free)</h4>
                      <p class="text-slate-400 text-sm mt-1 leading-relaxed">Stealth mode fully active. No credit card required. This offer expires when the timer hits zero.</p>
                  </div>
              </div>
          </div>

          <button onclick="closeCelebration()" class="btn-shine w-full py-5 rounded-xl bg-gradient-to-r from-yellow-500 to-yellow-700 text-black text-lg font-black uppercase tracking-widest shadow-[0_0_40px_rgba(255,215,0,0.3)] hover:scale-[1.02] transition-transform">
              Claim Elite Access
          </button>
      </div>
  </div>

  <nav class="fixed top-0 w-full z-50 h-[80px] flex items-center transition-all duration-300 backdrop-blur-xl border-b border-white/5 bg-black/50">
    <div class="w-full max-w-7xl mx-auto px-6 flex items-center justify-between">
      <a href="/" class="flex items-center gap-3 group">
        <div class="w-10 h-10 rounded-xl bg-gradient-to-br from-white/10 to-transparent border border-white/10 flex items-center justify-center group-hover:border-accent/50 transition duration-500 shadow-[0_0_20px_rgba(0,242,255,0.1)]">
            <i class="fa-solid fa-bolt text-accent text-lg"></i>
        </div>
        <span class="text-xl font-bold tracking-tight text-white group-hover:text-accent transition duration-300">Whis-AI</span>
      </a>
      
      <div class="hidden md:flex items-center gap-2 bg-white/5 p-1.5 rounded-full border border-white/5 backdrop-blur-md shadow-lg">
        <a href="#features" class="px-6 py-2 text-xs font-semibold text-slate-400 hover:text-white hover:bg-white/10 rounded-full transition-all">Features</a>
        <a href="#demo" class="px-6 py-2 text-xs font-semibold text-slate-400 hover:text-white hover:bg-white/10 rounded-full transition-all">Engine</a>
        <a href="#pricing" class="px-6 py-2 text-xs font-semibold text-slate-400 hover:text-white hover:bg-white/10 rounded-full transition-all">Plans</a>
      </div>

      <div class="flex items-center gap-4">
          <button onclick="openLoginModal()" id="signInBtn" class="text-xs font-semibold text-slate-400 hover:text-white transition px-2">Log In</button>
          
          <button onclick="openDownloadModal()" class="hidden md:flex items-center gap-2 group relative px-6 py-2.5 rounded-full bg-white text-black text-xs font-bold overflow-hidden shadow-[0_0_20px_rgba(255,255,255,0.2)] hover:shadow-accent/40 transition duration-500">
             <span class="relative z-10 group-hover:text-white transition-colors duration-300">Get 3 Free Elite Sessions</span>
             <div class="absolute inset-0 bg-accent translate-y-full group-hover:translate-y-0 transition-transform duration-300 ease-[cubic-bezier(0.87,0,0.13,1)]"></div>
          </button>
          
          <button onclick="openProfileModal()" id="userProfileTrigger" class="hidden items-center gap-3 bg-white/5 pr-4 pl-1 py-1 rounded-full border border-white/10 hover:border-white/30 transition hover:bg-white/10">
            <img id="navUserAvatar" src="" class="w-8 h-8 rounded-full bg-slate-800 object-cover border border-white/10" />
            <span id="navPlanBadge" class="text-[10px] font-bold text-slate-400 uppercase tracking-wide">FREE</span>
          </button>
      </div>
    </div>
  </nav>

  <div class="md:hidden fixed bottom-0 left-0 right-0 z-50 bg-black/90 backdrop-blur-xl border-t border-accent/20 p-4 pb-8 flex flex-col gap-2 shadow-[0_-10px_40px_rgba(0,0,0,1)]">
      <div class="text-[10px] text-center text-accent uppercase tracking-widest font-bold mb-1 flex items-center justify-center gap-2">
          <span class="w-2 h-2 bg-accent rounded-full animate-pulse"></span> High Demand: 150+ Users
      </div>
      <button onclick="openDownloadModal()" class="w-full py-4 rounded-xl bg-accent text-black text-sm font-extrabold text-center shadow-[0_0_20px_var(--accent-glow)] uppercase tracking-wide btn-shine">
          Start Free Interview
      </button>
  </div>

  <a href="https://wa.me/9092435258" target="_blank" class="fixed bottom-28 right-6 z-40 w-14 h-14 rounded-full flex items-center justify-center shadow-[0_0_30px_rgba(37,211,102,0.4)] hover:scale-110 transition md:bottom-10 group overflow-hidden bg-[#25D366]">
      <div class="absolute inset-0 bg-gradient-to-tr from-black/20 to-transparent pointer-events-none"></div>
      <i class="fa-brands fa-whatsapp text-white text-3xl z-10"></i>
      <span class="absolute right-16 bg-black/90 border border-white/10 text-white text-[10px] font-bold py-1.5 px-3 rounded-lg whitespace-nowrap opacity-0 group-hover:opacity-100 transition duration-300 pointer-events-none translate-x-2 group-hover:translate-x-0">Direct Support</span>
  </a>

  <section class="relative pt-32 md:pt-48 pb-20 flex flex-col items-center overflow-hidden min-h-screen">
    
    <div class="relative z-10 text-center max-w-6xl px-6 flex flex-col items-center">
      
      <div class="mb-8 inline-flex items-center gap-2 px-5 py-2 rounded-full bg-white/5 border border-white/10 text-[11px] font-bold text-slate-300 backdrop-blur-md shadow-2xl animate-[float-slow_6s_ease-in-out_infinite]">
          <span class="relative flex h-2 w-2">
            <span class="animate-ping absolute inline-flex h-full w-full rounded-full bg-red-400 opacity-75"></span>
            <span class="relative inline-flex rounded-full h-2 w-2 bg-red-500"></span>
          </span>
          <span id="signup-badge-text" class="tracking-wide">ðŸ”¥ 150+ candidates active now</span>
      </div>
      
      <h1 class="text-5xl md:text-8xl font-medium tracking-tight leading-[1] mb-8 text-white drop-shadow-2xl">
        Never Freeze In An<br>
        <span class="text-transparent bg-clip-text bg-gradient-to-r from-accent via-white to-accent animate-[gradient_4s_ease_infinite] bg-[length:200%_auto]">Interview Again.</span>
      </h1>
      
      <p class="text-lg md:text-xl text-slate-400 max-w-2xl mx-auto mb-10 leading-relaxed font-light px-2">
        The undetectable copilot that sees your screen, hears your questions, and writes the code. 
        <span class="text-slate-200 font-medium">Get the offer, guaranteed.</span>
      </p>

      <div class="flex flex-col items-center gap-6 w-full md:w-auto">
        <div class="flex items-center gap-2 text-[#FFD700] bg-[#FFD700]/5 border border-[#FFD700]/20 px-4 py-1.5 rounded-full">
            <i class="fa-solid fa-crown text-xs"></i>
            <span class="text-[10px] font-bold tracking-[0.2em] uppercase">Limited: 3 Free Elite Sessions</span>
        </div>

        <button id="heroDownloadBtn" onclick="openDownloadModal()" class="btn-shine group w-full md:w-auto px-12 py-5 rounded-2xl bg-white text-black text-sm font-black hover:scale-105 transition duration-300 shadow-[0_0_50px_rgba(255,255,255,0.15)] flex justify-center items-center gap-4">
            <div class="flex items-center gap-3 border-r border-black/10 pr-4 mr-1">
                 <i class="fa-brands fa-apple text-xl"></i>
                 <i class="fa-brands fa-windows text-xl"></i>
            </div>
            Download & Start Winning
        </button>
      </div>

      <div class="flex flex-wrap justify-center gap-8 mt-10 text-[11px] text-slate-500 font-mono uppercase tracking-widest">
          <span class="flex items-center gap-2"><i class="fa-solid fa-check text-accent"></i> No Credit Card</span>
          <span class="flex items-center gap-2"><i class="fa-solid fa-check text-accent"></i> 100% Undetectable</span>
          <span class="flex items-center gap-2"><i class="fa-solid fa-check text-accent"></i> Mac & Windows</span>
      </div>
    </div>

    <div class="w-full relative z-20 mt-12 md:mt-24 reveal-on-scroll">
        <div class="carousel-container" id="carouselContainer"></div>
        <div class="text-center mt-8">
              <div id="featureLabel" class="inline-block text-[10px] font-mono text-accent uppercase tracking-[0.4em] border-b border-accent/30 pb-1">SYSTEM INITIALIZED</div>
              <div class="md:hidden mt-4 flex items-center justify-center gap-2 opacity-50">
                 <i class="fa-solid fa-fingerprint text-slate-500 text-xs"></i>
                 <p class="text-[9px] text-slate-500 uppercase tracking-widest">Tap to expand</p>
              </div>
        </div>
    </div>
  </section>

  <section id="demo" class="py-24 border-t border-white/5 bg-black/40 relative">
      <div class="absolute top-0 inset-x-0 h-px bg-gradient-to-r from-transparent via-accent/30 to-transparent"></div>
      
      <div class="max-w-7xl mx-auto px-6">
          <div class="grid lg:grid-cols-2 gap-12 md:gap-20 items-center">
              <div class="space-y-8 reveal-on-scroll">
                  <h2 class="text-4xl md:text-6xl font-medium text-white tracking-tight">Real-time<br><span class="text-slate-600">Coding Genius.</span></h2>
                  <p class="text-slate-400 text-lg font-light leading-relaxed">
                      Whis listens to the audio stream and captures your screen context. It identifies the algorithm, handles edge cases, and types the optimal solution directly into your IDE.
                  </p>
                  
                  <div class="spotlight-card p-8 bg-[#0a0a0a]">
                      <div class="flex items-center gap-4 mb-6">
                          <div class="flex h-3 w-3 relative">
                            <span class="animate-ping absolute inline-flex h-full w-full rounded-full bg-red-400 opacity-75"></span>
                            <span class="relative inline-flex rounded-full h-3 w-3 bg-red-500"></span>
                          </div>
                          <span class="text-[10px] font-mono text-white/50 uppercase tracking-widest">Audio Stream Active</span>
                      </div>
                      <div class="flex items-center gap-1.5 h-16 opacity-80">
                          <div class="w-1.5 bg-white rounded-full h-6 animate-[pulse_1s_ease-in-out_infinite]"></div>
                          <div class="w-1.5 bg-white rounded-full h-10 animate-[pulse_1.2s_ease-in-out_infinite]" style="animation-delay: 0.1s"></div>
                          <div class="w-1.5 bg-white rounded-full h-14 animate-[pulse_0.8s_ease-in-out_infinite]" style="animation-delay: 0.2s"></div>
                          <div class="w-1.5 bg-white rounded-full h-8 animate-[pulse_1.5s_ease-in-out_infinite]" style="animation-delay: 0.15s"></div>
                          <div class="w-1.5 bg-white rounded-full h-12 animate-[pulse_1s_ease-in-out_infinite]" style="animation-delay: 0.3s"></div>
                          <div class="w-1.5 bg-white rounded-full h-6 animate-[pulse_1.1s_ease-in-out_infinite]" style="animation-delay: 0.1s"></div>
                          <div class="w-1.5 bg-white rounded-full h-14 animate-[pulse_0.9s_ease-in-out_infinite]" style="animation-delay: 0.4s"></div>
                          <div class="w-1.5 bg-white rounded-full h-5 animate-[pulse_1.3s_ease-in-out_infinite]"></div>
                      </div>
                      <p class="mt-8 text-sm text-slate-400 italic border-l-2 border-accent pl-4 font-mono">"Okay, let's optimize this using a sliding window approach to reduce complexity to O(n)..."</p>
                  </div>
              </div>

              <div class="spotlight-card p-0 bg-[#0E0E10] border border-white/10 h-[450px] md:h-[550px] flex flex-col shadow-2xl shadow-black/80 reveal-on-scroll">
                  <div class="px-5 py-4 border-b border-white/5 flex justify-between items-center bg-[#18181b]">
                      <div class="flex gap-2">
                        <div class="w-3 h-3 rounded-full bg-[#FF5F56]"></div>
                        <div class="w-3 h-3 rounded-full bg-[#FFBD2E]"></div>
                        <div class="w-3 h-3 rounded-full bg-[#27C93F]"></div>
                      </div>
                      <div class="text-[10px] font-mono font-bold text-slate-500 flex gap-6">
                          <span class="text-white border-b border-accent pb-0.5">main.py</span>
                          <span class="hover:text-white transition cursor-pointer">Solution.cpp</span>
                          <span class="hover:text-white transition cursor-pointer">Service.java</span>
                      </div>
                      <i class="fa-solid fa-gear text-slate-600 text-xs"></i>
                  </div>
                  
                  <div class="p-6 md:p-8 flex-grow overflow-x-auto relative no-scrollbar bg-[#0E0E10]">
                      <div class="absolute left-4 top-8 bottom-4 w-6 text-right text-slate-700 font-mono text-xs select-none border-r border-white/5 pr-2 leading-relaxed">
                          1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br>9<br>10<br>11<br>12<br>13<br>14<br>15
                      </div>
                      <pre id="code-display" class="pl-10 text-xs md:text-sm leading-relaxed text-[#f8f8f2] font-mono"></pre>
                      <span id="cursor" class="absolute w-2 h-5 bg-accent animate-pulse inline-block align-middle ml-1"></span>
                  </div>
                  
                  <div class="px-5 py-3 border-t border-white/5 text-[10px] text-[#50fa7b] font-mono bg-[#191919] flex justify-between items-center">
                      <span class="flex items-center gap-2"><i class="fa-solid fa-circle-check"></i> 14/14 Test Cases Passed</span>
                      <span class="text-slate-500">Runtime: <span class="text-white">32ms</span> (Beats 98%)</span>
                  </div>
              </div>
          </div>
      </div>
  </section>

  <section id="features" class="py-24 md:py-32 border-t border-white/5 relative z-10">
      <div class="max-w-7xl mx-auto px-6">
          <h2 class="text-4xl font-medium text-white mb-16 md:mb-24 text-center reveal-on-scroll">The Unfair Advantage.</h2>
          
          <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
              <div class="spotlight-card p-8 group reveal-on-scroll">
                  <div class="w-14 h-14 rounded-2xl bg-purple-500/10 flex items-center justify-center mb-8 group-hover:scale-110 transition duration-500 border border-purple-500/20">
                      <i class="fa-solid fa-ghost text-2xl text-purple-400 drop-shadow-[0_0_15px_rgba(168,85,247,0.5)]"></i>
                  </div>
                  <h3 class="text-white font-bold mb-3 text-lg">Total Stealth</h3>
                  <p class="text-sm text-slate-400 leading-relaxed">Invisible to Zoom, Teams, and Proctoring tools. Our overlay sits on a secure OS layer that screen capture APIs cannot see.</p>
              </div>
              
              <div class="spotlight-card p-8 group reveal-on-scroll" style="animation-delay: 0.1s">
                  <div class="w-14 h-14 rounded-2xl bg-blue-500/10 flex items-center justify-center mb-8 group-hover:scale-110 transition duration-500 border border-blue-500/20">
                      <i class="fa-solid fa-eye text-2xl text-blue-400 drop-shadow-[0_0_15px_rgba(59,130,246,0.5)]"></i>
                  </div>
                  <h3 class="text-white font-bold mb-3 text-lg">Visual Context</h3>
                  <p class="text-sm text-slate-400 leading-relaxed">It sees the whiteboard. It solves the system design diagram. It reads the prompt screenshot instantly.</p>
              </div>

              <div class="spotlight-card p-8 group reveal-on-scroll" style="animation-delay: 0.2s">
                  <div class="w-14 h-14 rounded-2xl bg-red-500/10 flex items-center justify-center mb-8 group-hover:scale-110 transition duration-500 border border-red-500/20">
                      <i class="fa-solid fa-microphone-lines text-2xl text-red-400 drop-shadow-[0_0_15px_rgba(239,68,68,0.5)]"></i>
                  </div>
                  <h3 class="text-white font-bold mb-3 text-lg">Audio Intercept</h3>
                  <p class="text-sm text-slate-400 leading-relaxed">Interviewer asks a complex question? Whis hears it and generates the answer before they finish speaking.</p>
              </div>
              
              <div class="spotlight-card p-8 group reveal-on-scroll">
                  <div class="w-14 h-14 rounded-2xl bg-yellow-500/10 flex items-center justify-center mb-8 group-hover:scale-110 transition duration-500 border border-yellow-500/20">
                      <i class="fa-solid fa-language text-2xl text-yellow-400 drop-shadow-[0_0_15px_rgba(250,204,21,0.5)]"></i>
                  </div>
                  <h3 class="text-white font-bold mb-3 text-lg">Polyglot Mode</h3>
                  <p class="text-sm text-slate-400 leading-relaxed">Translates Mandarin, Hindi, or Spanish questions into English solutions instantly.</p>
              </div>
              
              <div class="spotlight-card p-8 group reveal-on-scroll" style="animation-delay: 0.1s">
                  <div class="w-14 h-14 rounded-2xl bg-green-500/10 flex items-center justify-center mb-8 group-hover:scale-110 transition duration-500 border border-green-500/20">
                      <i class="fa-solid fa-keyboard text-2xl text-green-400 drop-shadow-[0_0_15px_rgba(74,222,128,0.5)]"></i>
                  </div>
                  <h3 class="text-white font-bold mb-3 text-lg">Direct Input</h3>
                  <p class="text-sm text-slate-400 leading-relaxed">Need to clarify? Type directly into the overlay without Alt-Tabbing. Stay focused on the camera.</p>
              </div>
              
              <div class="spotlight-card p-8 group reveal-on-scroll" style="animation-delay: 0.2s">
                  <div class="w-14 h-14 rounded-2xl bg-slate-500/10 flex items-center justify-center mb-8 group-hover:scale-110 transition duration-500 border border-slate-500/20">
                      <i class="fa-solid fa-bolt text-2xl text-white drop-shadow-[0_0_15px_rgba(255,255,255,0.5)]"></i>
                  </div>
                  <h3 class="text-white font-bold mb-3 text-lg">Native Speed</h3>
                  <p class="text-sm text-slate-400 leading-relaxed">High performance Rust/Electron backend ensures <50ms response time on modern machines.</p>
              </div>
          </div>
      </div>
  </section>

  <section id="pricing" class="py-32 border-t border-white/5 relative bg-black/40">
    <div class="max-w-7xl mx-auto px-6 text-center">
        <div class="mb-16 max-w-3xl mx-auto reveal-on-scroll">
            <h2 class="text-5xl font-medium text-white mb-6">Invest In Your Career.</h2>
            <div class="p-5 rounded-2xl bg-gradient-to-r from-accent/10 to-transparent border-l-4 border-accent text-left backdrop-blur-md">
                <p class="text-slate-200 text-lg italic font-light">
                    "We build for your success. We only win when you get the offer. <span class="text-accent not-italic font-bold text-glow">Your career breakthrough is our priority.</span>"
                </p>
            </div>
        </div>
        
        <div class="inline-flex bg-white/5 p-1.5 rounded-2xl border border-white/10 mb-16 relative reveal-on-scroll">
           <button id="btnMonthly" class="px-8 py-3 rounded-xl text-xs font-bold bg-white text-black transition shadow-[0_0_20px_rgba(255,255,255,0.2)] transform scale-105" onclick="setCycle('monthly')">Monthly</button>
           <button id="btnAnnual" class="px-8 py-3 rounded-xl text-xs font-bold text-slate-400 hover:text-white transition" onclick="setCycle('annual')">Yearly (-20%)</button>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-3 gap-8 max-w-6xl mx-auto items-stretch">
            
            <div class="spotlight-card p-10 text-left flex flex-col h-full border-accent/30 shadow-[0_0_40px_rgba(0,242,255,0.05)] relative group reveal-on-scroll">
                <div class="absolute top-0 right-0 bg-accent text-black text-[10px] font-bold px-4 py-2 rounded-bl-2xl uppercase tracking-wider shadow-[0_0_15px_var(--accent-glow)]">Recommended Start</div>
                <h3 class="text-xs font-bold text-accent uppercase tracking-[0.2em] mb-4">Starter</h3>
                <div class="text-5xl font-bold text-white mb-2 tracking-tight">Free</div>
                <p class="text-xs text-slate-400 mb-8">No credit card needed</p>
                <div class="space-y-5 text-sm text-slate-400 mb-10 flex-grow">
                    <div class="flex gap-4 font-bold text-white bg-white/5 p-4 rounded-xl border border-accent/20">
                        <i class="fa-solid fa-crown text-[#FFD700] mt-1 text-lg drop-shadow-[0_0_10px_rgba(255,215,0,0.5)]"></i> 
                        <div>
                            3 FREE ELITE SESSIONS
                            <p class="font-normal text-[11px] text-slate-400 mt-1 opacity-80">Full undetectable access to ace your first interview.</p>
                        </div>
                    </div>
                    <p class="flex gap-3"><i class="fa-solid fa-check text-white"></i> 10 Daily Syntheses (Forever)</p>
                    <p class="flex gap-3"><i class="fa-solid fa-check text-white"></i> Basic Code Generation</p>
                </div>
                <button onclick="openDownloadModal()" class="w-full py-4 rounded-xl bg-white text-black hover:scale-[1.03] transition duration-300 text-xs font-extrabold uppercase shadow-xl hover:shadow-white/20">Download Now</button>
            </div>

            <div class="spotlight-card p-10 text-left flex flex-col h-full border-white/10 hover:border-white/20 reveal-on-scroll" style="animation-delay: 0.1s">
                <h3 class="text-xs font-bold text-slate-300 uppercase tracking-[0.2em] mb-4">Pro License</h3>
                <div class="text-5xl font-bold text-white mb-6 tracking-tight" id="pricePro">...</div>
                <div class="space-y-5 text-sm text-slate-300 mb-10 flex-grow">
                    <p class="flex gap-3"><i class="fa-solid fa-check text-white"></i> Unlimited Syntheses</p>
                    <p class="flex gap-3"><i class="fa-solid fa-check text-white"></i> Visual Context Analysis</p>
                    <p class="flex gap-3"><i class="fa-solid fa-check text-white"></i> Audio Ingestion</p>
                    <p class="flex gap-3 text-red-400 opacity-80"><i class="fa-solid fa-video"></i> Visible on Screenshare</p>
                </div>
                <button id="btnPro" disabled onclick="initiatePayment('pro')" class="w-full py-4 rounded-xl bg-white/5 text-white hover:bg-white/10 border border-white/10 text-xs font-bold uppercase transition disabled:opacity-50 disabled:cursor-not-allowed">Upgrade to Pro</button>
            </div>

            <div class="spotlight-card p-10 text-left flex flex-col h-full bg-[#050505] shadow-[0_0_60px_rgba(0,0,0,0.8)] border border-white/10 relative overflow-hidden reveal-on-scroll" style="animation-delay: 0.2s">
                <div class="absolute inset-0 bg-gradient-to-b from-accent/5 to-transparent pointer-events-none"></div>
                <div class="absolute top-6 right-6 p-2 rounded-full bg-accent/10 border border-accent/20"><i class="fa-solid fa-crown text-accent text-xl animate-[pulse_3s_infinite]"></i></div>
                <h3 class="text-xs font-bold text-accent uppercase tracking-[0.2em] mb-4">Elite License</h3>
                <div class="text-5xl font-bold text-white mb-6 tracking-tight" id="priceStealth">...</div>
                <div class="space-y-5 text-sm text-white mb-10 flex-grow relative z-10">
                    <p class="flex gap-3"><i class="fa-solid fa-shield-halved text-accent text-glow"></i> 100% Undetectable</p>
                    <p class="flex gap-3"><i class="fa-solid fa-ghost text-accent text-glow"></i> Invisible to Screenshare</p>
                    <p class="flex gap-3"><i class="fa-solid fa-keyboard text-accent text-glow"></i> Direct Input Mode</p>
                    <p class="flex gap-3"><i class="fa-solid fa-user-secret text-accent text-glow"></i> Ghost Dock (No Icon)</p>
                    <p class="flex gap-3"><i class="fa-solid fa-headset text-accent text-glow"></i> Priority Support</p>
                </div>
                <button id="btnElite" disabled onclick="initiatePayment('pro_plus')" class="btn-shine w-full py-4 rounded-xl bg-accent text-black hover:brightness-110 text-xs font-extrabold uppercase transition shadow-[0_0_30px_var(--accent-glow)] disabled:opacity-50 disabled:cursor-not-allowed relative z-10">Get Elite Access</button>
            </div>
        </div>
    </div>
  </section>

  <section class="py-24 border-t border-white/5 bg-white/5 backdrop-blur-lg">
      <div class="max-w-3xl mx-auto px-6">
          <h2 class="text-3xl font-medium text-white mb-12 text-center reveal-on-scroll">Frequently Asked Questions.</h2>
          <div class="space-y-4 reveal-on-scroll">
              <div class="spotlight-card border-transparent bg-black/40 hover:bg-black/60 transition group" onclick="this.classList.toggle('faq-active')">
                  <div class="p-6 flex justify-between items-center cursor-pointer">
                      <span class="text-sm font-bold text-slate-200 group-hover:text-white transition">Is it really undetectable?</span>
                      <i class="fa-solid fa-chevron-down text-slate-500 transition-transform duration-300"></i>
                  </div>
                  <div class="faq-content bg-white/5 px-6">
                      <p class="text-sm text-slate-400 py-6 leading-relaxed border-t border-white/5">Yes. Whis-AI uses a proprietary graphics overlay technology that sits 'above' the operating system's screen capture hook used by Zoom, Teams, and standard proctoring software. It does not inject code into the browser, making it invisible to standard detection methods.</p>
                  </div>
              </div>
               <div class="spotlight-card border-transparent bg-black/40 hover:bg-black/60 transition group" onclick="this.classList.toggle('faq-active')">
                  <div class="p-6 flex justify-between items-center cursor-pointer">
                      <span class="text-sm font-bold text-slate-200 group-hover:text-white transition">Which operating systems?</span>
                      <i class="fa-solid fa-chevron-down text-slate-500 transition-transform duration-300"></i>
                  </div>
                  <div class="faq-content bg-white/5 px-6">
                      <p class="text-sm text-slate-400 py-6 leading-relaxed border-t border-white/5">We support macOS (Apple Silicon M1/M2/M3 & Intel) and Windows 10/11. Linux support is currently in beta.</p>
                  </div>
              </div>
               <div class="spotlight-card border-transparent bg-black/40 hover:bg-black/60 transition group" onclick="this.classList.toggle('faq-active')">
                  <div class="p-6 flex justify-between items-center cursor-pointer">
                      <span class="text-sm font-bold text-slate-200 group-hover:text-white transition">Can I try it for free?</span>
                      <i class="fa-solid fa-chevron-down text-slate-500 transition-transform duration-300"></i>
                  </div>
                  <div class="faq-content bg-white/5 px-6">
                      <p class="text-sm text-slate-400 py-6 leading-relaxed border-t border-white/5">Absolutely. The Free Starter plan now includes <strong>3 Full Elite Sessions</strong>. This allows you to test every feature (including invisibility) completely free in a real or mock interview setting. After that, you retain 10 free syntheses per day.</p>
                  </div>
              </div>
          </div>
      </div>
  </section>

  <footer class="py-16 bg-black border-t border-white/5 flex flex-col items-center gap-8 pb-32 md:pb-16">
    <div class="flex flex-wrap justify-center gap-8 text-slate-500 text-xs font-semibold tracking-wide">
        <a href="/contact" class="hover:text-white transition">Contact</a>
        <a href="/troubleshoot" class="hover:text-white transition">Troubleshooting</a>
        <a href="/terms" class="hover:text-white transition">Terms of Service</a>
        <a href="/privacy" class="hover:text-white transition">Privacy Policy</a>
        <a href="/refund-policy" class="hover:text-white transition">Refund Policy</a>
    </div>
    <div class="flex flex-col items-center gap-3">
        <div class="w-10 h-10 rounded-full bg-accent/10 flex items-center justify-center border border-accent/20">
            <span class="text-accent text-lg"><i class="fa-solid fa-bolt"></i></span>
        </div>
        <p class="text-slate-600 text-[10px] uppercase tracking-[0.2em]">Built for those who refuse to lose.</p>
    </div>
  </footer>

  <div id="loginModal" class="fixed inset-0 z-[100] hidden items-center justify-center p-4 bg-black/90 backdrop-blur-xl transition-opacity duration-300">
      <div class="spotlight-card p-10 max-w-sm w-full text-center relative shadow-2xl modal-enter bg-black">
        <button onclick="closeLoginModal()" class="absolute top-4 right-4 text-slate-500 hover:text-white transition"><i class="fa-solid fa-times"></i></button>
        <div class="mb-6 w-16 h-16 rounded-2xl bg-white/5 border border-white/10 mx-auto flex items-center justify-center shadow-lg"><i class="fa-solid fa-user-astronaut text-white text-3xl"></i></div>
        <h3 class="text-2xl font-bold text-white mb-2">Identify Yourself</h3>
        <p class="text-xs text-slate-400 mb-8 font-mono">Access dashboard & subcriptions.</p>
        <div id="googleBtnContainer" class="flex justify-center h-[50px] overflow-hidden"></div>
      </div>
  </div>

  <div id="successModal" class="fixed inset-0 z-[200] hidden items-center justify-center p-4 bg-black/95 backdrop-blur-xl">
      <div class="spotlight-card p-10 max-w-sm w-full text-center border border-green-500/30 shadow-[0_0_100px_rgba(16,185,129,0.2)] modal-enter bg-black">
          <div class="w-20 h-20 rounded-full bg-green-500/20 flex items-center justify-center mx-auto mb-6 border border-green-500/50 animate-[pulse_2s_infinite]">
              <i class="fa-solid fa-check text-4xl text-green-400"></i>
          </div>
          <h3 class="text-2xl font-bold text-white mb-2">Upgrade Complete</h3>
          <p class="text-slate-400 text-sm mb-8">Your account capabilities have been maximized. Systems are fully operational.</p>
          <button onclick="window.location.reload()" class="w-full py-4 rounded-xl bg-green-500 text-black font-bold hover:bg-green-400 transition shadow-lg uppercase tracking-wide">Initialize System</button>
      </div>
  </div>

  <div id="paymentModal" class="fixed inset-0 z-[150] hidden items-center justify-center p-4 bg-black/90 backdrop-blur-xl">
    <div class="spotlight-card p-8 max-w-sm w-full text-center relative bg-black modal-enter">
        <button onclick="closePaymentModal()" class="absolute top-4 right-4 text-slate-500 hover:text-white transition"><i class="fa-solid fa-times"></i></button>
        
        <h3 class="text-xl font-bold text-white mb-2">Secure Gateway</h3>
        <p class="text-xs text-slate-400 mb-8 font-mono">Encrypted 256-bit SSL transaction.</p>

        <button onclick="triggerRazorpayFlow(event)" class="w-full py-4 mb-4 rounded-xl bg-[#3395ff] text-white font-bold hover:brightness-110 transition flex items-center justify-center gap-3 shadow-[0_0_20px_rgba(51,149,255,0.3)]">
            <i class="fa-solid fa-credit-card"></i> Card / UPI (Razorpay)
        </button>

        <div class="relative flex py-2 items-center mb-4 opacity-50">
            <div class="flex-grow border-t border-white/10"></div>
            <span class="flex-shrink mx-4 text-[10px] text-slate-500 tracking-widest">INTERNATIONAL</span>
            <div class="flex-grow border-t border-white/10"></div>
        </div>

        <div id="paypal-button-container" class="w-full min-h-[45px]"></div>
    </div>
  </div>

  <div id="downloadModal" class="fixed inset-0 z-[100] hidden items-center justify-center p-4 bg-black/90 backdrop-blur-xl">
    <div class="spotlight-card p-10 max-w-md w-full border border-white/10 bg-black modal-enter">
        <button onclick="closeDownloadModal()" class="absolute top-4 right-4 text-slate-500 hover:text-white transition"><i class="fa-solid fa-times"></i></button>
        <h3 class="text-xl font-bold text-white mb-8 text-center">Select Architecture</h3>
        <div class="space-y-4">
            <a href="https://github.com/syedwaseemfahad/whis-releases/releases/download/v.1.4.mac/Whis-1.0.1-arm64.dmg" class="flex items-center justify-between p-5 bg-white/5 rounded-2xl hover:bg-white/10 transition group border border-white/5 hover:border-white/20">
                <span class="flex items-center gap-4 text-sm text-white font-bold">
                    <div class="w-10 h-10 rounded-lg bg-white text-black flex items-center justify-center"><i class="fa-brands fa-apple text-2xl"></i></div>
                    macOS (Apple Silicon)
                </span>
                <i class="fa-solid fa-download text-slate-500 group-hover:text-white transition"></i>
            </a>
             <a href="https://github.com/syedwaseemfahad/whis-releases/releases/download/v.1.4.mac/Whis-1.0.1-arm64.dmg" class="flex items-center justify-between p-5 bg-white/5 rounded-2xl hover:bg-white/10 transition group border border-white/5 hover:border-white/20">
                <span class="flex items-center gap-4 text-sm text-white font-bold">
                    <div class="w-10 h-10 rounded-lg bg-gray-600 text-white flex items-center justify-center"><i class="fa-brands fa-apple text-2xl"></i></div>
                    macOS (Intel)
                </span>
                <i class="fa-solid fa-download text-slate-500 group-hover:text-white transition"></i>
            </a>
            <a href="https://github.com/syedwaseemfahad/whis-releases/releases/download/v.1.4.windows/Whis.Setup.1.0.1.exe" class="flex items-center justify-between p-5 bg-white/5 rounded-2xl hover:bg-white/10 transition group border border-white/5 hover:border-white/20">
                <span class="flex items-center gap-4 text-sm text-white font-bold">
                      <div class="w-10 h-10 rounded-lg bg-[#0078D6] text-white flex items-center justify-center"><i class="fa-brands fa-windows text-2xl"></i></div>
                      Windows 10 / 11
                </span>
                <i class="fa-solid fa-download text-slate-500 group-hover:text-white transition"></i>
            </a>
        </div>
        <p class="text-[10px] text-center text-slate-500 mt-8 pt-4 border-t border-white/5">Installing this activates your 3 Free Elite Sessions instantly.</p>
    </div>
  </div>

  <div id="profileModal" class="fixed inset-0 z-[100] hidden items-center justify-center p-4 bg-black/90 backdrop-blur-xl">
    <div class="spotlight-card p-10 max-w-sm w-full text-center border border-white/10 bg-black modal-enter">
        <button onclick="closeProfileModal()" class="absolute top-4 right-4 text-slate-500 hover:text-white transition"><i class="fa-solid fa-times"></i></button>
        <img id="modalUserAvatar" class="w-24 h-24 rounded-full mx-auto mb-6 border-2 border-accent p-1 object-cover shadow-[0_0_20px_var(--accent-glow)]" />
        <h3 id="modalUserName" class="text-xl font-bold text-white mb-8">User</h3>
        <div class="bg-white/5 rounded-2xl p-6 text-left mb-8 border border-white/5">
            <p class="text-[10px] text-slate-500 uppercase tracking-widest mb-1">Current Plan</p>
            <div class="flex justify-between items-baseline">
                <span id="modalPlanName" class="text-2xl font-bold text-white">Free</span>
                <span id="modalPlanStatus" class="text-[10px] bg-green-500/20 text-green-400 px-2 py-1 rounded border border-green-500/30 font-bold">ACTIVE</span>
            </div>
            <div id="modalPlanValidity" class="text-[10px] text-slate-400 mt-2 font-mono"></div>
        </div>
        <button onclick="logout()" class="w-full py-3 rounded-xl bg-red-500/10 text-red-400 hover:bg-red-500/20 text-xs font-bold uppercase transition border border-red-500/20">Sign Out</button>
    </div>
  </div>

  <script>
    // --- 1. PREMIUM UI LOGIC (Spotlights, Observer) ---
    function initPremiumUI() {
        // Spotlight Effect
        const cards = document.querySelectorAll('.spotlight-card, .carousel-item');
        document.addEventListener('mousemove', (e) => {
            cards.forEach(card => {
                const rect = card.getBoundingClientRect();
                const x = e.clientX - rect.left;
                const y = e.clientY - rect.top;
                card.style.setProperty('--mouse-x', `${x}px`);
                card.style.setProperty('--mouse-y', `${y}px`);
            });
        });

        // Scroll Reveal Observer
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('revealed');
                    observer.unobserve(entry.target);
                }
            });
        }, { threshold: 0.1 });

        document.querySelectorAll('.reveal-on-scroll').forEach(el => observer.observe(el));
    }

    // --- 2. CELEBRATION LOGIC (Refined) ---
    let celebrationInterval;
    let confettiInterval;

    function triggerCelebration() {
        const modal = document.getElementById('celebrationModal');
        modal.classList.remove('hidden');
        modal.classList.add('flex');

        // Play Sound
        const audio = new Audio('https://assets.mixkit.co/active_storage/sfx/1435/1435-preview.mp3');
        audio.volume = 0.5;
        audio.play().catch(e => console.log("Audio autoplay blocked"));

        // Fire High-End Confetti
        firePremiumConfetti();
        startCountdown();
    }

    function firePremiumConfetti() {
        const duration = 10000;
        const animationEnd = Date.now() + duration;
        const defaults = { startVelocity: 45, spread: 360, ticks: 100, zIndex: 2000, colors: ['#FFD700', '#FFFFFF', '#00F2FF'] };

        function random(min, max) { return Math.random() * (max - min) + min; }

        confettiInterval = setInterval(function() {
          const timeLeft = animationEnd - Date.now();
          if (timeLeft <= 0) return clearInterval(confettiInterval);
          const particleCount = 70 * (timeLeft / duration);
          confetti(Object.assign({}, defaults, { particleCount, origin: { x: random(0.1, 0.3), y: Math.random() - 0.2 } }));
          confetti(Object.assign({}, defaults, { particleCount, origin: { x: random(0.7, 0.9), y: Math.random() - 0.2 } }));
        }, 200);
    }

    function startCountdown() {
        let timeLeft = 10;
        const timerEl = document.getElementById('countdownTimer');
        celebrationInterval = setInterval(() => {
            timeLeft--;
            if(timeLeft >= 0) timerEl.innerText = timeLeft;
            if(timeLeft <= 0) closeCelebration();
        }, 1000);
    }

    function closeCelebration() {
        clearInterval(celebrationInterval);
        clearInterval(confettiInterval);
        const modal = document.getElementById('celebrationModal');
        modal.classList.add('opacity-0');
        setTimeout(() => {
            modal.classList.add('hidden');
            modal.classList.remove('flex', 'opacity-0');
            openDownloadModal();
        }, 500);
    }

    // --- 3. INTRO ANIMATION ---
    function playIntro() {
        const t1 = document.getElementById('intro-text');
        const layer = document.getElementById('intro-layer');
        setTimeout(() => t1.classList.add('intro-active'), 100);
        setTimeout(() => { layer.style.opacity = '0'; }, 2000); 
        setTimeout(() => { layer.style.display = 'none'; }, 3000);
    }

    // --- 4. CAROUSEL ENGINE (Preserved & Enhanced) ---
    const videos = [
        { src: 'visual.mp4', label: 'VISUAL CONTEXT ANALYSIS' },
        { src: 'text.mp4', label: 'REAL-TIME CODE SYNTHESIS' },
        { src: 'audio.mp4', label: 'AUDIO STREAM INGESTION' }
    ];
    let activeIndex = 0;
    
    function initCarousel() {
        const container = document.getElementById('carouselContainer');
        container.innerHTML = '';
        videos.forEach((v, i) => {
            const div = document.createElement('div');
            div.className = 'carousel-item'; 
            div.id = `c-item-${i}`;
            
            const wrapper = document.createElement('div');
            wrapper.className = "relative w-full h-full";
            const video = document.createElement('video');
            video.src = v.src; 
            video.muted = true; 
            video.playsInline = true;
            video.style.cssText = "width:100%; height:100%; object-fit:contain; background:#000;";
            wrapper.appendChild(video);
            div.appendChild(wrapper);
            container.appendChild(div);
        });
        updateCarousel();
    }

    function updateCarousel() {
        const total = videos.length;
        const prev = (activeIndex - 1 + total) % total;
        const next = (activeIndex + 1) % total;
        
        videos.forEach((_, i) => {
            const el = document.getElementById(`c-item-${i}`);
            const vid = el.querySelector('video');
            el.className = 'carousel-item transition-all duration-700 ease-[cubic-bezier(0.2,0.8,0.2,1)]';
            vid.onended = null; 
            
            if(i === activeIndex) {
                el.classList.add('item-center');
                vid.currentTime = 0;
                vid.play().catch(() => setTimeout(() => nextSlide(), 5000));
                vid.style.opacity = '1';
                vid.onended = () => nextSlide();
            } else if (i === prev) {
                el.classList.add('item-left');
                vid.pause(); vid.style.opacity = '0.3';
            } else if (i === next) {
                el.classList.add('item-right');
                vid.pause(); vid.style.opacity = '0.3';
            } else {
                el.classList.add('item-hidden');
                vid.pause();
            }
        });
        
        const label = document.getElementById('featureLabel');
        label.style.opacity = '0';
        setTimeout(() => {
            label.innerText = videos[activeIndex].label;
            label.style.opacity = '1';
        }, 300);
    }
    
    function nextSlide() {
        activeIndex = (activeIndex + 1) % videos.length; 
        updateCarousel();
    }

    // --- 5. TYPEWRITER EFFECT (Syntax Highlighted) ---
    // Modified to use HTML spans instead of raw text
    const codeLines = [
        { text: "class ", class: "keyword" }, { text: "Solution", class: "function" }, { text: ":\n", class: "" },
        { text: "    def ", class: "keyword" }, { text: "trap", class: "function" }, { text: "(self, height: List[int]) -> int:\n", class: "" },
        { text: "        if not ", class: "keyword" }, { text: "height: ", class: "" }, { text: "return ", class: "keyword" }, { text: "0\n", class: "number" },
        { text: "        l, r = ", class: "" }, { text: "0", class: "number" }, { text: ", len(height) - ", class: "" }, { text: "1\n", class: "number" },
        { text: "        leftMax, rightMax = height[l], height[r]\n", class: "" },
        { text: "        res = ", class: "" }, { text: "0\n", class: "number" },
        { text: "        while ", class: "keyword" }, { text: "l < r:\n", class: "" },
        { text: "            if ", class: "keyword" }, { text: "leftMax < rightMax:\n", class: "" },
        { text: "                l += ", class: "" }, { text: "1\n", class: "number" },
        { text: "                leftMax = max(leftMax, height[l])\n", class: "" },
        { text: "                res += leftMax - height[l]\n", class: "" },
        { text: "            else", class: "keyword" }, { text: ":\n", class: "" },
        { text: "                r -= ", class: "" }, { text: "1\n", class: "number" },
        { text: "                rightMax = max(rightMax, height[r])\n", class: "" },
        { text: "                res += rightMax - height[r]\n", class: "" },
        { text: "        return ", class: "keyword" }, { text: "res", class: "" }
    ];
    let currentPart = 0; let currentChar = 0;
    
    function typeCode() {
        const el = document.getElementById('code-display');
        if(!el) return; 

        if (currentPart < codeLines.length) {
            const part = codeLines[currentPart];
            let span = el.lastElementChild;
            if (currentChar === 0 || !span) {
                span = document.createElement('span');
                if (part.class) span.className = part.class;
                el.appendChild(span);
            }
            span.textContent += part.text[currentChar];
            currentChar++;
            if (currentChar >= part.text.length) {
                currentPart++;
                currentChar = 0;
            }
            setTimeout(typeCode, 15);
        } else {
            setTimeout(() => { el.innerHTML = ''; currentPart = 0; currentChar = 0; typeCode(); }, 4000);
        }
    }

    // --- 6. DYNAMIC SIGNUPS ---
    function updateDynamicSignups() {
        const now = new Date();
        const istOffset = 5.5 * 60 * 60 * 1000;
        const utc = now.getTime() + (now.getTimezoneOffset() * 60000);
        const istDate = new Date(utc + istOffset);
        let hour = istDate.getHours();
        let count = hour * hour + 942; 
        if(count === 0) count = 45; 
        const badge = document.getElementById('signup-badge-text');
        if(badge) badge.innerText = `ðŸ”¥ ${count} candidates active now`;
    }

    // --- 7. BACKEND & AUTH (Preserved) ---
    const BACKEND_URL="https://whis-backend.onrender.com";
    let currentUser = null, currentCycle = 'monthly', currentTier = 'free';
    let PRICING_CONFIG = null;
    let GOOGLE_CLIENT_ID = null;

    async function fetchPricingConfig() {
        try {
            const res = await fetch(`${BACKEND_URL}/api/config`);
            if(res.ok) {
                const data = await res.json();
                PRICING_CONFIG = data.pricing;
                GOOGLE_CLIENT_ID = data.googleClientId;
                updatePricingUI();
                document.getElementById('btnPro').disabled = false;
                document.getElementById('btnElite').disabled = false;
            }
        } catch(e) { console.error("Config Error", e); }
    }

    function checkUser(){ 
        const s=localStorage.getItem('whisUser'); 
        if(s){ 
            try{ 
                currentUser=JSON.parse(s); 
                updateNavUI(currentUser); 
                fetchUserStatus(); 
            }catch(e){localStorage.removeItem('whisUser');} 
        } 
    } 
    
    function updateNavUI(u){ 
        document.getElementById('signInBtn').style.display='none'; 
        const profileTrigger = document.getElementById('userProfileTrigger');
        profileTrigger.classList.remove('hidden'); 
        profileTrigger.classList.add('flex'); 
        document.getElementById('navUserAvatar').src = u.avatarUrl; 
    }
    
    async function handleGoogleRes(res){
        try {
            const r=await fetch(`${BACKEND_URL}/api/auth/google`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:res.credential})});
            const d=await r.json();
            if(d.success){ 
                localStorage.setItem('whisUser',JSON.stringify(d.user)); 
                currentUser=d.user; 
                updateNavUI(currentUser); 
                fetchUserStatus(); 
                closeLoginModal(); 
            }
        } catch(e){ console.error(e); }
    }
    
    function formatPrice(amount, discount) {
        if (!amount) return "...";
        if(discount > 0) {
            const discounted = Math.floor(amount * (1 - discount/100)); 
            return `<span>â‚¹${discounted}</span> <span class="text-sm line-through text-slate-500 opacity-60 mx-1">â‚¹${Math.floor(amount)}</span> <span class="text-[10px] font-bold text-black bg-accent px-1.5 py-0.5 rounded align-middle">-${discount}%</span>`;
        }
        return `â‚¹${Math.floor(amount)}`;
    }

    function setCycle(c){
        currentCycle=c;
        const btnM=document.getElementById('btnMonthly'); 
        const btnA=document.getElementById('btnAnnual');
        
        const activeClass = "px-8 py-3 rounded-xl text-xs font-bold bg-white text-black transition shadow-[0_0_20px_rgba(255,255,255,0.2)] transform scale-105";
        const inactiveClass = "px-8 py-3 rounded-xl text-xs font-bold text-slate-400 hover:text-white transition";

        if(c==='monthly'){
            btnM.className = activeClass;
            btnA.className = inactiveClass;
        } else {
            btnA.className = activeClass;
            btnM.className = inactiveClass;
        }
        updatePricingUI();
    }

    function updatePricingUI() {
        if (!PRICING_CONFIG) return;
        const proDiv = document.getElementById('pricePro');
        const eliteDiv = document.getElementById('priceStealth');
        
        let proPrice = 0, elitePrice = 0;
        let proDisc = PRICING_CONFIG.pro.discount;
        let eliteDisc = PRICING_CONFIG.pro_plus.discount;

        if (currentCycle === 'monthly') {
            proPrice = PRICING_CONFIG.pro.monthly;
            elitePrice = PRICING_CONFIG.pro_plus.monthly;
            proDiv.innerHTML = `${formatPrice(proPrice, proDisc)}<span class="text-[12px] text-slate-500 block font-normal mt-1">/month</span>`;
            eliteDiv.innerHTML = `${formatPrice(elitePrice, eliteDisc)}<span class="text-[12px] text-slate-500 block font-normal mt-1">/month</span>`;
        } else {
            proPrice = PRICING_CONFIG.pro.annual_per_month;
            elitePrice = PRICING_CONFIG.pro_plus.annual_per_month;
            proDiv.innerHTML = `${formatPrice(proPrice, proDisc)}<span class="text-[12px] text-slate-500 block font-normal mt-1">/mo (billed yearly)</span>`;
            eliteDiv.innerHTML = `${formatPrice(elitePrice, eliteDisc)}<span class="text-[12px] text-slate-500 block font-normal mt-1">/mo (billed yearly)</span>`;
        }
    }

    async function fetchUserStatus() {
        if(!currentUser) return;
        try {
            const r = await fetch(`${BACKEND_URL}/api/user/status`, {headers:{'x-google-id':currentUser.googleId}});
            const d = await r.json();
            if(d.active) currentTier = d.tier; else currentTier = 'free';
            
            const badge = document.getElementById('navPlanBadge');
            const validityEl = document.getElementById('modalPlanValidity');
            
            if(d.active){
                badge.innerText = d.tier === 'pro_plus' ? 'ELITE' : 'PRO';
                badge.className = "text-[9px] font-bold text-accent uppercase tracking-wide";
                
                document.getElementById('modalPlanName').innerText = d.tier === 'pro_plus' ? 'Elite License' : 'Pro License';
                document.getElementById('modalPlanStatus').innerText = 'ACTIVE';
                
                if(d.expiry || d.validUntil) {
                    const dateStr = new Date(d.expiry || d.validUntil).toLocaleDateString();
                    validityEl.innerText = "Renews: " + dateStr;
                }
                
                const btnPro = document.getElementById('btnPro'); 
                const btnElite = document.getElementById('btnElite');
                if(d.tier === 'pro') { btnPro.innerText="Current Plan"; btnPro.disabled=true; btnElite.innerText="Upgrade to Elite"; }
                if(d.tier === 'pro_plus') { btnPro.innerText="Included"; btnPro.disabled=true; btnElite.innerText="Current Plan"; btnElite.disabled=true; }
            } else {
                badge.innerText = 'FREE';
                badge.className = "text-[9px] font-bold text-slate-400 uppercase tracking-wide";
            }
            document.getElementById('modalUserName').innerText = currentUser.name;
            document.getElementById('modalUserAvatar').src = currentUser.avatarUrl;
        } catch(e){}
    }

    // --- PAYMENT SYSTEM ---
    let selectedTierForPayment = null; 
    const paymentModal = document.getElementById('paymentModal');

    function initiatePayment(targetTier) {
        if(!currentUser){ openLoginModal(); return; }
        if(currentTier === 'pro_plus') return;
        if(currentTier === 'pro' && targetTier === 'pro') return;
        selectedTierForPayment = targetTier;
        openPaymentModal();
    }

    function openPaymentModal() {
        paymentModal.classList.remove('hidden'); 
        paymentModal.classList.add('flex');
        document.getElementById('paypal-button-container').innerHTML = '';

        paypal.Buttons({
            style: { layout: 'vertical', color: 'blue', shape: 'rect', label: 'pay' },
            createOrder: async function(data, actions) {
                const res = await fetch(`${BACKEND_URL}/api/payment/create-paypal-order`, {
                    method: 'POST',
                    headers: {'Content-Type': 'application/json'},
                    body: JSON.stringify({
                        googleId: currentUser.googleId, 
                        tier: selectedTierForPayment, 
                        cycle: currentCycle
                    })
                });
                const orderData = await res.json();
                return orderData.id; 
            },
            onApprove: async function(data, actions) {
                const res = await fetch(`${BACKEND_URL}/api/payment/verify-paypal`, {
                    method: 'POST',
                    headers: {'Content-Type': 'application/json'},
                    body: JSON.stringify({ orderID: data.orderID, googleId: currentUser.googleId })
                });
                const details = await res.json();
                if (details.success) {
                    closePaymentModal();
                    document.getElementById('successModal').classList.remove('hidden');
                    document.getElementById('successModal').classList.add('flex');
                } else {
                    alert("PayPal Verification Failed.");
                }
            },
            onError: function (err) { alert("PayPal Error. Please try Razorpay."); }
        }).render('#paypal-button-container');
    }

    function closePaymentModal() {
        paymentModal.classList.add('hidden');
        paymentModal.classList.remove('flex');
    }

    async function triggerRazorpayFlow(event) {
        const targetTier = selectedTierForPayment;
        const isUpgrade = (currentTier === 'pro' && targetTier === 'pro_plus');
        const btn = event.currentTarget; 
        const orig = btn.innerHTML; 
        btn.innerHTML = '<i class="fa-solid fa-circle-notch fa-spin"></i> Processing...';
        
        try {
            const res = await fetch(`${BACKEND_URL}/api/payment/create-order`,{
                method:'POST', headers:{'Content-Type':'application/json'},
                body:JSON.stringify({
                    googleId: currentUser.googleId, 
                    tier: targetTier, 
                    cycle: currentCycle, 
                    isUpgrade: isUpgrade
                })
            });
            const data = await res.json();
            
            if(data.order_id){
                const rzp1 = new Razorpay({
                    "key": data.key_id, 
                    "amount": data.amount, 
                    "currency": data.currency, 
                    "name": "Whis AI",
                    "description": isUpgrade ? "Upgrade License" : "New License", 
                    "order_id": data.order_id,
                    "handler": async function (response){ 
                        try {
                            const verifyRes = await fetch(`${BACKEND_URL}/api/payment/verify`, {
                                method: 'POST', headers: {'Content-Type': 'application/json'},
                                body: JSON.stringify({
                                    razorpay_order_id: response.razorpay_order_id,
                                    razorpay_payment_id: response.razorpay_payment_id,
                                    razorpay_signature: response.razorpay_signature
                                })
                            });
                            const verifyData = await verifyRes.json();
                            if(verifyData.success){
                                closePaymentModal();
                                document.getElementById('successModal').classList.remove('hidden');
                                document.getElementById('successModal').classList.add('flex');
                            } else {
                                alert("Verification Failed.");
                            }
                        } catch(e) { alert("Network Error"); }
                    },
                    "theme": { "color": "#00f2ff" },
                    "modal": { "ondismiss": function(){ btn.innerHTML = orig; } }
                });
                rzp1.open();
            }
        } catch(e){ 
            console.error(e); 
            btn.innerHTML = orig; 
        }
    }

    function logout(){ localStorage.removeItem('whisUser'); location.reload(); }

    // --- MODAL HELPERS ---
    const loginModal=document.getElementById('loginModal'); 
    const downloadModal=document.getElementById('downloadModal'); 
    const profileModal=document.getElementById('profileModal');
    
    function openLoginModal(){
        loginModal.classList.remove('hidden'); loginModal.classList.add('flex');
        if(window.google && GOOGLE_CLIENT_ID){
            google.accounts.id.initialize({client_id:GOOGLE_CLIENT_ID,callback:handleGoogleRes});
            google.accounts.id.renderButton(document.getElementById("googleBtnContainer"),{theme:"filled_black",size:"large",shape:"pill", width: "250"});
        }
    }
    
    function closeLoginModal(){loginModal.classList.add('hidden');loginModal.classList.remove('flex');}
    function openDownloadModal(){downloadModal.classList.remove('hidden');downloadModal.classList.add('flex');}
    function closeDownloadModal(){downloadModal.classList.add('hidden');downloadModal.classList.remove('flex');}
    function openProfileModal(){if(currentUser)fetchUserStatus();profileModal.classList.remove('hidden');profileModal.classList.add('flex');}
    function closeProfileModal(){profileModal.classList.add('hidden');profileModal.classList.remove('flex');}

    // --- INIT ---
    document.addEventListener("DOMContentLoaded", () => {
        playIntro();
        initPremiumUI();
        initCarousel();
        typeCode();
        checkUser();
        fetchPricingConfig();
        updateDynamicSignups();
        
        // TRIGGER CELEBRATION 6 SECONDS AFTER LOAD
        setTimeout(triggerCelebration, 6000);
    });
  </script>
</body>
</html>
