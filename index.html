<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8" />
    <title>Whis – The Unfair Advantage</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0" />
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      tailwind.config = {
        theme: {
          extend: {
            fontFamily: { 
              sans: ['SF Pro Display', 'Inter', '-apple-system', 'sans-serif'],
              mono: ['JetBrains Mono', 'Fira Code', 'monospace'],
            },
            colors: { 
              void: '#030014', /* Deep Space Blue/Black */
              surface: '#0F172A',
              accent: '#6366f1', /* Indigo */
              cyan: '#06b6d4',   /* Cyan */
            },
            backgroundImage: {
              'hero-glow': 'radial-gradient(circle at 50% 0%, rgba(99, 102, 241, 0.15) 0%, transparent 70%)',
              'glass-gradient': 'linear-gradient(180deg, rgba(255,255,255,0.08) 0%, rgba(255,255,255,0.0) 100%)',
              'metal-gradient': 'linear-gradient(to bottom, #ffffff, #94a3b8)',
            },
            animation: { 
              'ticker': 'ticker 40s linear infinite',
              'spotlight': 'spotlight 2s ease infinite',
              'pulse-slow': 'pulse 6s cubic-bezier(0.4, 0, 0.6, 1) infinite',
            },
            keyframes: {
              ticker: { '0%': { transform: 'translateX(0)' }, '100%': { transform: 'translateX(-50%)' } },
            }
          }
        }
      }
    </script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
    <script src="https://accounts.google.com/gsi/client" async defer></script>
      
    <style>
      /* --- GLOBAL RESET & AESTHETICS --- */
      body { 
          background-color: #030014; 
          color: white; 
          overflow-x: hidden; 
          -webkit-font-smoothing: antialiased; 
          background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)' opacity='0.03'/%3E%3C/svg%3E");
      }

      /* --- SPOTLIGHT CARD EFFECT --- */
      .spotlight-card {
          position: relative;
          background: rgba(15, 23, 42, 0.6);
          border: 1px solid rgba(255,255,255,0.08);
          overflow: hidden;
      }
      .spotlight-card::before {
          content: "";
          position: absolute;
          top: 0; left: 0; right: 0; bottom: 0;
          border-radius: inherit;
          padding: 1px;
          background: radial-gradient(800px circle at var(--mouse-x) var(--mouse-y), rgba(255,255,255,0.4), transparent 40%);
          -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
          -webkit-mask-composite: xor;
          mask-composite: exclude;
          pointer-events: none;
          opacity: 0;
          transition: opacity 0.5s;
      }
      .spotlight-card:hover::before { opacity: 1; }

      /* --- 3D CAROUSEL DECK --- */
      .deck-stage {
          perspective: 2000px;
          height: 600px;
          display: flex;
          align-items: center;
          justify-content: center;
          position: relative;
      }
      @media (max-width: 768px) { .deck-stage { height: 400px; } }

      .deck-item {
          position: absolute;
          width: 80%;
          max-width: 1000px;
          aspect-ratio: 16/10;
          border-radius: 24px;
          background: #000;
          transition: all 0.8s cubic-bezier(0.25, 0.8, 0.25, 1);
          transform-style: preserve-3d;
          box-shadow: 0 50px 100px -20px rgba(0,0,0,0.8);
      }
      
      /* Active State */
      .deck-center {
          transform: translate3d(0, 0, 0);
          z-index: 20;
          border: 1px solid rgba(99, 102, 241, 0.5); /* Indigo Border */
          box-shadow: 0 0 0 1px rgba(99, 102, 241, 0.3), 0 30px 60px rgba(0,0,0,1), 0 0 100px rgba(99, 102, 241, 0.15);
      }
      /* Inactive Left */
      .deck-left {
          transform: translate3d(-65%, 0, -400px) rotateY(35deg);
          z-index: 10;
          opacity: 0.3;
          filter: blur(5px) grayscale(100%);
          pointer-events: none;
          border: 1px solid rgba(255,255,255,0.1);
      }
      /* Inactive Right */
      .deck-right {
          transform: translate3d(65%, 0, -400px) rotateY(-35deg);
          z-index: 10;
          opacity: 0.3;
          filter: blur(5px) grayscale(100%);
          pointer-events: none;
          border: 1px solid rgba(255,255,255,0.1);
      }

      /* --- TYPOGRAPHY & BUTTONS --- */
      .text-shimmer {
          background: linear-gradient(to right, #94a3b8 20%, #fff 50%, #94a3b8 80%);
          background-size: 200% auto;
          color: transparent;
          -webkit-background-clip: text;
          background-clip: text;
          animation: shine 4s linear infinite;
      }
      @keyframes shine { to { background-position: 200% center; } }

      .btn-glowing {
          position: relative;
          background: linear-gradient(135deg, #4f46e5 0%, #06b6d4 100%);
          color: white;
          font-weight: 700;
          border: 1px solid rgba(255,255,255,0.2);
          box-shadow: 0 0 30px rgba(79, 70, 229, 0.4), inset 0 1px 0 rgba(255,255,255,0.3);
          transition: all 0.3s;
          overflow: hidden;
      }
      .btn-glowing:hover {
          transform: translateY(-2px);
          box-shadow: 0 0 50px rgba(79, 70, 229, 0.6), inset 0 1px 0 rgba(255,255,255,0.3);
      }
      .btn-glowing::after {
          content: ''; position: absolute; top: -50%; left: -50%; width: 200%; height: 200%;
          background: linear-gradient(transparent, rgba(255,255,255,0.3), transparent);
          transform: rotate(45deg);
          animation: shimmer 3s infinite;
      }

      /* --- UI UTILS --- */
      .glass-nav { background: rgba(3, 0, 20, 0.8); backdrop-filter: blur(20px); border-bottom: 1px solid rgba(255,255,255,0.05); }
      .badge { box-shadow: 0 0 10px rgba(6, 182, 212, 0.5); }
      
      /* Video Overlay Gradient */
      .vid-overlay {
          position: absolute; inset: 0; 
          background: linear-gradient(to top, black 0%, transparent 30%);
          pointer-events: none;
      }
    </style>
</head>
<body id="body">

    <div class="fixed inset-0 z-0 bg-hero-glow pointer-events-none"></div>

    <nav class="fixed top-0 w-full z-50 glass-nav h-[72px] flex items-center justify-center transition-all duration-300">
      <div class="w-full max-w-7xl px-6 flex items-center justify-between">
        <a href="/" class="flex items-center gap-3 group">
          <div class="w-9 h-9 rounded-lg bg-white/5 flex items-center justify-center border border-white/10 group-hover:border-cyan transition shadow-lg">
            <span class="text-xs font-bold text-white tracking-widest">WH</span>
          </div>
          <span class="text-sm font-bold text-slate-300 group-hover:text-white transition tracking-wide">WHIS.AI</span>
        </a>
          
        <div class="hidden md:flex items-center gap-1 bg-white/5 p-1 rounded-full border border-white/10">
          <a href="#how" class="px-5 py-1.5 text-xs font-medium text-slate-400 hover:text-white hover:bg-white/5 rounded-full transition">Logic</a>
          <a href="#demo" class="px-5 py-1.5 text-xs font-medium text-slate-400 hover:text-white hover:bg-white/5 rounded-full transition">Demo</a>
          <a href="#pricing" class="px-5 py-1.5 text-xs font-medium text-slate-400 hover:text-white hover:bg-white/5 rounded-full transition">Access</a>
        </div>

        <div class="flex items-center gap-4">
            <button onclick="openLoginModal()" class="text-xs font-bold text-slate-400 hover:text-white transition hidden sm:block uppercase tracking-wider">Sign In</button>
            <button onclick="openDownloadModal()" class="btn-glowing rounded-full px-6 py-2 text-xs uppercase tracking-widest">Get The Advantage</button>
        </div>
      </div>
    </nav>

    <section class="relative pt-32 pb-20 flex flex-col items-center overflow-hidden">
        
        <div class="relative z-10 mb-8 animate-fade-in-up">
            <div class="inline-flex items-center gap-2 px-4 py-1.5 rounded-full bg-cyan/10 border border-cyan/20 text-cyan text-[10px] font-bold uppercase tracking-[0.2em] badge cursor-default">
                <span class="relative flex h-2 w-2">
                  <span class="animate-ping absolute inline-flex h-full w-full rounded-full bg-cyan opacity-75"></span>
                  <span class="relative inline-flex rounded-full h-2 w-2 bg-cyan"></span>
                </span>
                Systems Operational
            </div>
        </div>

        <h1 class="relative z-10 text-center max-w-5xl px-4 mb-8">
            <span class="block text-5xl md:text-8xl font-black tracking-tighter text-white mb-2 leading-none">THE UNFAIR</span>
            <span class="block text-5xl md:text-8xl font-black tracking-tighter text-transparent bg-clip-text bg-gradient-to-r from-indigo-400 via-cyan-400 to-indigo-400 leading-none pb-4">ADVANTAGE</span>
        </h1>

        <p class="relative z-10 text-center text-slate-400 text-lg md:text-xl max-w-2xl px-6 mb-12 font-light leading-relaxed">
            The only undetectable AI copilot that solves technical interviews in real-time. 
            <span class="text-white font-medium">It sees what you see. It hears what you hear.</span>
        </p>

        <div class="relative z-10 flex flex-col md:flex-row gap-4 mb-20">
            <button onclick="openDownloadModal()" class="btn-glowing rounded-xl px-10 py-4 text-sm flex items-center justify-center gap-3">
                <i class="fa-brands fa-apple text-lg"></i>
                <span>Download for macOS</span>
            </button>
            <button onclick="document.getElementById('demo').scrollIntoView()" class="px-10 py-4 rounded-xl border border-white/10 hover:bg-white/5 text-white text-sm font-bold uppercase tracking-wide transition flex items-center justify-center gap-2">
                <i class="fa-solid fa-play text-xs text-cyan"></i> Watch Demo
            </button>
        </div>

        <div class="w-full max-w-[1400px] relative z-20 px-4">
            <div class="deck-stage" id="deckStage">
                </div>
            
            <div class="flex flex-col items-center mt-12 gap-4">
                <div id="deckLabel" class="text-xs font-mono text-cyan uppercase tracking-widest bg-cyan/10 px-4 py-2 rounded border border-cyan/20">
                    System Initializing...
                </div>
                <div class="flex gap-4">
                    <button onclick="setDeck(0)" id="pip-0" class="w-12 h-1 bg-white rounded-full transition-all"></button>
                    <button onclick="setDeck(1)" id="pip-1" class="w-2 h-1 bg-white/20 hover:bg-white rounded-full transition-all"></button>
                    <button onclick="setDeck(2)" id="pip-2" class="w-2 h-1 bg-white/20 hover:bg-white rounded-full transition-all"></button>
                </div>
            </div>
        </div>

    </section>

    <div class="border-y border-white/5 bg-black/40 backdrop-blur-md py-6 overflow-hidden relative z-20">
        <div class="flex animate-ticker whitespace-nowrap gap-20 opacity-50 grayscale hover:grayscale-0 transition duration-500">
            <div class="flex items-center gap-20">
                <div class="flex items-center gap-3"><i class="fa-brands fa-google text-2xl"></i><span class="font-bold tracking-tight">Google</span></div>
                <div class="flex items-center gap-3"><i class="fa-brands fa-meta text-2xl"></i><span class="font-bold tracking-tight">Meta</span></div>
                <div class="flex items-center gap-3"><i class="fa-brands fa-amazon text-2xl"></i><span class="font-bold tracking-tight">Amazon</span></div>
                <div class="flex items-center gap-3"><i class="fa-brands fa-uber text-2xl"></i><span class="font-bold tracking-tight">Uber</span></div>
                <div class="flex items-center gap-3"><i class="fa-brands fa-stripe text-2xl"></i><span class="font-bold tracking-tight">Stripe</span></div>
            </div>
            <div class="flex items-center gap-20">
                <div class="flex items-center gap-3"><i class="fa-brands fa-google text-2xl"></i><span class="font-bold tracking-tight">Google</span></div>
                <div class="flex items-center gap-3"><i class="fa-brands fa-meta text-2xl"></i><span class="font-bold tracking-tight">Meta</span></div>
                <div class="flex items-center gap-3"><i class="fa-brands fa-amazon text-2xl"></i><span class="font-bold tracking-tight">Amazon</span></div>
                <div class="flex items-center gap-3"><i class="fa-brands fa-uber text-2xl"></i><span class="font-bold tracking-tight">Uber</span></div>
                <div class="flex items-center gap-3"><i class="fa-brands fa-stripe text-2xl"></i><span class="font-bold tracking-tight">Stripe</span></div>
            </div>
             <div class="flex items-center gap-20">
                <div class="flex items-center gap-3"><i class="fa-brands fa-google text-2xl"></i><span class="font-bold tracking-tight">Google</span></div>
                <div class="flex items-center gap-3"><i class="fa-brands fa-meta text-2xl"></i><span class="font-bold tracking-tight">Meta</span></div>
                <div class="flex items-center gap-3"><i class="fa-brands fa-amazon text-2xl"></i><span class="font-bold tracking-tight">Amazon</span></div>
                <div class="flex items-center gap-3"><i class="fa-brands fa-uber text-2xl"></i><span class="font-bold tracking-tight">Uber</span></div>
                <div class="flex items-center gap-3"><i class="fa-brands fa-stripe text-2xl"></i><span class="font-bold tracking-tight">Stripe</span></div>
            </div>
        </div>
    </div>

    <section id="demo" class="py-32 relative z-10 px-4" onmousemove="handleMouseMove(event)">
        <div class="max-w-7xl mx-auto">
            <h2 class="text-4xl md:text-5xl font-black text-center mb-20 tracking-tight">
                Engineering <span class="text-transparent bg-clip-text bg-gradient-to-r from-indigo-400 to-cyan-400">Perfection</span>
            </h2>

            <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                <div class="md:col-span-2 spotlight-card rounded-3xl p-10 group relative">
                    <div class="absolute top-6 right-6 p-2 bg-red-500/10 rounded border border-red-500/20 text-red-400 text-[10px] font-mono uppercase tracking-widest">
                        Confidential
                    </div>
                    <div class="w-14 h-14 bg-indigo-500/20 rounded-2xl flex items-center justify-center border border-indigo-500/30 mb-8">
                        <i class="fa-solid fa-user-secret text-2xl text-indigo-400"></i>
                    </div>
                    <h3 class="text-2xl font-bold text-white mb-4">Kernel-Level Invisibility</h3>
                    <p class="text-slate-400 text-lg leading-relaxed mb-8">
                        Whis operates below the OS rendering layer. Screen sharing tools (Zoom, Teams, Google Meet) capture the framebuffer <i>before</i> Whis draws its overlay.
                    </p>
                    <div class="h-32 bg-black/50 rounded-xl border border-white/5 flex items-center justify-center relative overflow-hidden">
                        <div class="text-xs font-mono text-slate-600">SCREEN SHARE VIEW</div>
                        <div class="absolute inset-0 flex items-center justify-center bg-indigo-500/20 backdrop-blur-sm opacity-0 group-hover:opacity-100 transition-opacity duration-500">
                            <span class="font-bold text-white tracking-widest">OVERLAY HIDDEN</span>
                        </div>
                    </div>
                </div>

                <div class="spotlight-card rounded-3xl p-10 flex flex-col justify-between">
                    <div>
                        <div class="w-14 h-14 bg-cyan-500/20 rounded-2xl flex items-center justify-center border border-cyan-500/30 mb-8">
                            <i class="fa-solid fa-bolt text-2xl text-cyan-400"></i>
                        </div>
                        <h3 class="text-xl font-bold text-white mb-2">12ms Latency</h3>
                        <p class="text-slate-400 text-sm">Answers appear before the interviewer finishes the question.</p>
                    </div>
                    <div class="mt-8 font-mono text-xs text-cyan-400">
                        > Processing Audio...<br>
                        > Querying LLM...<br>
                        > Code Generated.<br>
                        <span class="animate-pulse">_</span>
                    </div>
                </div>

                <div class="spotlight-card rounded-3xl p-10">
                    <div class="w-14 h-14 bg-purple-500/20 rounded-2xl flex items-center justify-center border border-purple-500/30 mb-8">
                        <i class="fa-solid fa-eye text-2xl text-purple-400"></i>
                    </div>
                    <h3 class="text-xl font-bold text-white mb-2">Omni-Vision</h3>
                    <p class="text-slate-400 text-sm leading-relaxed">
                        Reads diagrams, whiteboards, and chart questions instantly using advanced OCR.
                    </p>
                </div>

                <div class="md:col-span-2 spotlight-card rounded-3xl p-10 flex items-center justify-between overflow-hidden">
                    <div class="max-w-md z-10">
                        <div class="w-14 h-14 bg-emerald-500/20 rounded-2xl flex items-center justify-center border border-emerald-500/30 mb-8">
                            <i class="fa-solid fa-microphone-slash text-2xl text-emerald-400"></i>
                        </div>
                        <h3 class="text-2xl font-bold text-white mb-4">Silent Intercept</h3>
                        <p class="text-slate-400 text-lg">
                            No microphone needed. Whis hooks directly into the system audio stream for 100% accuracy.
                        </p>
                    </div>
                    <div class="hidden md:flex gap-1 items-center h-32 opacity-50">
                        <div class="w-2 bg-emerald-500 h-10 rounded-full animate-[pulse_1s_infinite]"></div>
                        <div class="w-2 bg-emerald-500 h-20 rounded-full animate-[pulse_1.5s_infinite]"></div>
                        <div class="w-2 bg-emerald-500 h-14 rounded-full animate-[pulse_0.8s_infinite]"></div>
                        <div class="w-2 bg-emerald-500 h-24 rounded-full animate-[pulse_1.2s_infinite]"></div>
                        <div class="w-2 bg-emerald-500 h-12 rounded-full animate-[pulse_1s_infinite]"></div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <footer class="border-t border-white/5 bg-[#02000d] py-24 px-4 relative z-10">
        <div class="max-w-7xl mx-auto flex flex-col items-center text-center">
            <h2 class="text-4xl md:text-6xl font-black text-white mb-8 tracking-tighter">
                Don't let them reject you again.
            </h2>
            <button onclick="openDownloadModal()" class="btn-glowing rounded-full px-12 py-5 text-sm font-bold uppercase tracking-widest mb-16 shadow-[0_0_60px_rgba(99,102,241,0.3)]">
                Get The Advantage
            </button>
            
            <div class="flex gap-8 text-xs text-slate-500 uppercase tracking-widest font-mono">
                <a href="#" class="hover:text-white transition">Privacy</a>
                <a href="#" class="hover:text-white transition">Terms</a>
                <a href="#" class="hover:text-white transition">Contact</a>
            </div>
            <div class="mt-8 text-slate-700 text-xs">© 2025 Whis AI. Systems Nominal.</div>
        </div>
    </footer>

    <div id="downloadModal" class="fixed inset-0 bg-black/90 backdrop-blur-xl z-[100] hidden items-center justify-center p-4 transition-opacity">
        <div class="spotlight-card rounded-3xl p-10 max-w-md w-full border border-white/20 shadow-2xl relative">
            <button onclick="closeDownloadModal()" class="absolute top-6 right-6 text-slate-500 hover:text-white"><i class="fa-solid fa-times text-xl"></i></button>
            <h2 class="text-3xl font-black text-white mb-2">Initialize.</h2>
            <p class="text-slate-400 mb-8">Select your platform.</p>
            <div class="space-y-4">
                <a href="#" class="flex items-center justify-between px-6 py-4 bg-white/5 border border-white/10 rounded-2xl hover:bg-white hover:text-black transition group">
                    <span class="font-bold flex items-center gap-3"><i class="fa-brands fa-apple text-xl"></i> macOS</span>
                    <i class="fa-solid fa-arrow-right opacity-0 group-hover:opacity-100 transition"></i>
                </a>
                <a href="#" class="flex items-center justify-between px-6 py-4 bg-white/5 border border-white/10 rounded-2xl hover:bg-white hover:text-black transition group">
                    <span class="font-bold flex items-center gap-3"><i class="fa-brands fa-windows text-xl"></i> Windows</span>
                    <i class="fa-solid fa-arrow-right opacity-0 group-hover:opacity-100 transition"></i>
                </a>
            </div>
        </div>
    </div>
    
    <div id="loginModal" class="fixed inset-0 bg-black/90 backdrop-blur-xl z-[100] hidden items-center justify-center p-4">
        <div class="spotlight-card rounded-3xl p-10 max-w-sm w-full text-center border border-white/20 relative">
             <button onclick="closeLoginModal()" class="absolute top-6 right-6 text-slate-500 hover:text-white"><i class="fa-solid fa-times text-xl"></i></button>
             <h3 class="text-2xl font-bold mb-2">Welcome Back</h3>
             <p class="text-slate-400 mb-6">Manage your subscription.</p>
             <div id="googleBtnContainer" class="flex justify-center h-[44px]"></div>
        </div>
    </div>

    <script>
        // --- SPOTLIGHT EFFECT ---
        function handleMouseMove(e) {
            const cards = document.getElementsByClassName("spotlight-card");
            for(const card of cards) {
                const rect = card.getBoundingClientRect();
                const x = e.clientX - rect.left;
                const y = e.clientY - rect.top;
                card.style.setProperty("--mouse-x", `${x}px`);
                card.style.setProperty("--mouse-y", `${y}px`);
            }
        }

        // --- DECK LOGIC (THE VIDEO CAROUSEL) ---
        const deckData = [
            { src: 'visual.mp4', label: 'MODE: OMNI-VISION (READING SCREEN)' },
            { src: 'text.mp4', label: 'MODE: CODE GENERATION (LIVE)' },
            { src: 'audio.mp4', label: 'MODE: AUDIO INTERCEPT (LISTENING)' }
        ];
        let deckIndex = 0;

        function initDeck() {
            const stage = document.getElementById('deckStage');
            stage.innerHTML = '';
            
            deckData.forEach((item, i) => {
                const el = document.createElement('div');
                el.className = 'deck-item overflow-hidden';
                el.id = `deck-${i}`;
                
                // Video Container
                const vidWrap = document.createElement('div');
                vidWrap.className = "w-full h-full relative bg-black";
                
                // Loading Placeholder
                const loader = document.createElement('div');
                loader.className = "absolute inset-0 flex items-center justify-center text-xs font-mono text-cyan/50 tracking-widest";
                loader.innerText = "LOADING STREAM...";
                
                // The Video
                const vid = document.createElement('video');
                vid.src = item.src;
                vid.muted = true;
                vid.loop = true;
                vid.playsInline = true;
                vid.className = "w-full h-full object-cover opacity-0 transition-opacity duration-700";
                
                // Overlay for coolness
                const overlay = document.createElement('div');
                overlay.className = "vid-overlay";
                
                vidWrap.appendChild(loader);
                vidWrap.appendChild(vid);
                vidWrap.appendChild(overlay);
                el.appendChild(vidWrap);
                stage.appendChild(el);
            });
            updateDeck();
        }

        function updateDeck() {
            const items = [document.getElementById('deck-0'), document.getElementById('deck-1'), document.getElementById('deck-2')];
            const pips = [document.getElementById('pip-0'), document.getElementById('pip-1'), document.getElementById('pip-2')];
            const prev = (deckIndex - 1 + 3) % 3;
            const next = (deckIndex + 1) % 3;

            // Reset Classes
            items.forEach(el => el.className = 'deck-item overflow-hidden transition-all duration-700 ease-out');

            // Apply 3D Transforms
            items[deckIndex].classList.add('deck-center');
            items[prev].classList.add('deck-left');
            items[next].classList.add('deck-right');

            // Manage Video Resources (Anti-Lag)
            items.forEach((el, idx) => {
                const v = el.querySelector('video');
                if (idx === deckIndex) {
                    v.style.opacity = '1';
                    v.play().catch(e => {});
                } else {
                    v.style.opacity = '0.4';
                    v.pause();
                }
            });

            // Update Label & Pips
            document.getElementById('deckLabel').innerText = deckData[deckIndex].label;
            pips.forEach((p, i) => {
                if(i === deckIndex) p.className = "w-12 h-1 bg-cyan rounded-full transition-all shadow-[0_0_10px_rgba(6,182,212,0.5)]";
                else p.className = "w-2 h-1 bg-white/20 hover:bg-white rounded-full transition-all cursor-pointer";
            });
        }

        function setDeck(i) { deckIndex = i; updateDeck(); }

        // --- AUTH & MODALS ---
        const downloadModal = document.getElementById('downloadModal');
        const loginModal = document.getElementById('loginModal');

        function openDownloadModal() { downloadModal.classList.remove('hidden'); downloadModal.classList.add('flex'); }
        function closeDownloadModal() { downloadModal.classList.add('hidden'); downloadModal.classList.remove('flex'); }
        function openLoginModal() { 
            loginModal.classList.remove('hidden'); 
            loginModal.classList.add('flex');
            // Init Google Auth if available
            if(window.google) {
                google.accounts.id.initialize({
                    client_id: "91011354786-0giqfdd547vj6ojkk26qdj4jucl5v07p.apps.googleusercontent.com",
                    callback: handleGoogle
                });
                google.accounts.id.renderButton(document.getElementById("googleBtnContainer"), { theme: "filled_black", size: "large" });
            }
        }
        function closeLoginModal() { loginModal.classList.add('hidden'); loginModal.classList.remove('flex'); }
        function handleGoogle(res) { console.log(res); /* Add backend logic here */ }

        // --- INIT ---
        window.addEventListener('DOMContentLoaded', () => {
            initDeck();
        });
    </script>
</body>
</html>
